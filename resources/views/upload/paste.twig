{% extends 'templates/app.twig' %}

{% block title %}Paste{% endblock %}

{% block extracss %}
	<style>
	#paste {
		resize: vertical;
	}
	</style>
{% endblock %}

{% block content %}
	<div class="row">
		<div class="col-md-8 col-md-offset-2">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Paste</h3>
				</div>

				<div class="panel-body">
					<form action="{{ path_for('file.upload.paste') }}" method="post" enctype="multipart/form-data" autocomplete="off">
						<div class="form-group{{ errors.title ? ' has-error' : '' }}">
							<label for="title">Title</label>
							<input type="text" name="title" id="title" class="form-control" valuve="{{ old.title }}" placeholder="file.ext, file, .ext, or empty"></input>
							{% if errors.title %}
								<span class="help-block">{{ errors.title | first }}</span>
							{% endif %}
						</div>

						<div class="form-group{{ errors.paste ? ' has-error' : '' }}">
							<label for="paste">Content</label>
							<textarea name="paste" id="paste" cols="30" rows="15" class="form-control" required>{{ old.paste }}</textarea>
							{% if errors.paste %}
								<span class="help-block">{{ errors.paste | first }}</span>
							{% endif %}
						</div>

						<h4>
							Privacy setting
						</h4>

						<div class="radio">
							<label>
								<input type="radio" name="privacy" id="public" value="public"{% if auth.user.default_privacy_state == 0 %} checked{% endif %}>
								Public
							</label>
						</div>

						<div class="radio">
							<label>
								<input type="radio" name="privacy" id="unlisted" value="unlisted"{% if auth.user.default_privacy_state == 1 %} checked{% endif %}>
								Unlisted (not displayed on profile)
							</label>
						</div>

						<div class="radio">
							<label>
								<input type="radio" name="privacy" id="private" value="private"{% if auth.user.default_privacy_state == 2 %} checked{% endif %}>
								Private (requires login to view)
							</label>
						</div>

						<button type="submit" class="btn btn-default">Submit</button>

						{{ csrf.field | raw }}
					</form>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
